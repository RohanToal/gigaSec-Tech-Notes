[[MOC Networking]]

# VIM
Created:  [[2022-06-19]]
Tags: #fleeting 

---
Abstract:
[[Some random long read about VIM I found online]]

---
#myquestion How to enter visual mode?



[[Accidentally hit Ctrl+Z in Vim]]


In nvim
Base configuration is at `~/config/nvim/init.lua`


## Different Modes in VIM

Command Mode
- Where you can run commands

Insert Mode
- Where you can type texts

Visual Mode
- Selection of texts so that you can only run commands on that selected text



### Format for modying texts
Commands that manipulate text often uses operator and motion
#### `operator motion`
operator = command itself, instructs what to do
motion = moves over text, commands that lets you move cursor

##### Count for motion 
[count]  motion
2w = to move two words foward
0 = move start of the line 
^ = move start of the line

## Command Mode
`u` undo last command
`U` to fix the whole line 
`Ctrl + r` for redo

`K` to search for documentation to selected word

### Motion in command mode.
commands that lets you move cursor
w = move cursor to the start of next word
e = move cursor at the last letter/end of the word
b = for backwards



### [[Deletion]]




## Command mode to Insert Mode


`r` to replace the character at the cursor

`c` change operator
This command requires motion
`ce` to change all the way to line
Basically, deletes the word and places you into insert mode

`c [count] motion`




#### Insert
Insert will put cursor BEFORE current position

`I`       Insert at the beginning of the line

`O`       New line ABOVE current cursor 



#### Append (a) 
Append will put cursor AFTER current position

`A`       Append at the end of the line

`o`       New line BELOW current cursor  




## [[Selection in vim]]




## Copying
`count <command>`

Copy two lines
2 yy


Copy two end of the line
y $


## [[Exiting vim]]



## [[Saving file in vim]] with root permission




**vimgrep**
:grep  
To use grep and regex inside vim. 


As the doc say:
```
Vim has two ways to find matches for a pattern: Internal and external.
```

In a nutshell, `:vimgrep` uses Vim's grep mechanism to read and find in files. `:grep` uses an external commands to achieve the same job.

The `/` search is for the current buffer only, whereas `:[vim]grep` search through a pattern of files, allowing you to search in an entire project at once.

Have a look at `:h grep` for more information.

`/<word_to_search>`    search FORWADS for a pattern

`?<word_to_search>`   search BACKWARDS for a pattern

`n`               Search in same direction

`N`               Search in opposite direction


### Basic Find and Replace

In Vim, you can find and replace text using the `:substitute` (`:s`) command.
```vi
:[range]s/{pattern}/{string}/[flags] [count]
```

The command searches each line in `[range]` for a `{pattern}`, and replaces it with a `{string}`. `[count]` is a positive integer that multiplies the command.

For example, to search for the first occurrence of the string ‘foo’ in the current line and replace it with ‘bar’, you would use:
```vi
:s/foo/bar/
```

To replace all occurrences of the search pattern in the current line, add the `g` flag:
```vi
:s/foo/bar/g
```

To confirm each substitution, use the `c` flag:

```vi
:s/foo/bar/gc
```

```output
replace with bar (y/n/a/q/l/^E/^Y)?
```


You can also use [regular expressions](https://linuxize.com/post/regular-expressions-in-grep/) as a search pattern. The command bellow replaces all lines starting with ‘foo’ with ‘Vim is the best’:

```output
:%s/^foo.*/Vim is the best/gc
```

The `^` (caret) symbol matches the beginning of a line and `.*` matches any number of any characters.



### References
1. https://linuxize.com/post/vim-find-replace/